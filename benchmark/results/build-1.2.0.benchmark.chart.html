<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.5.1/dist/chart.min.js"></script>
    <title>build</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        background: #ddd;
      }

      .container {
        box-sizing: border-box;
        height: 96vh;
        width: 96vw;
        margin: 2vh 2vw;
        resize: both;
        overflow: hidden;
        padding: 20px;
        background: white;
        box-shadow: 0 0 15px #aaa;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <canvas id="chart1674433261506" width="16" height="9"></canvas>
    </div>
    <script>
      const format = (num) => {
        const [whole, fraction] = String(num).split('.')
        const chunked = []
        whole
          .split('')
          .reverse()
          .forEach((char, index) => {
            if (index % 3 === 0) {
              chunked.unshift([char])
            } else {
              chunked[0].unshift(char)
            }
          })

        const fractionStr = fraction !== undefined ? '.' + fraction : ''

        return (
          chunked.map((chunk) => chunk.join('')).join(' ') + fractionStr
        )
      }
      const ctx1674433261506 = document
        .getElementById('chart1674433261506')
        .getContext('2d')
      const chart1674433261506 = new Chart(ctx1674433261506, {
        type: 'bar',
        data: {
          labels: ["js engine build 100 primitives","js engine build 1000 primitives","js engine build 5000 primitives","js engine build 10000 primitives","js engine build 30000 primitives","js engine build 50000 primitives","wasm engine build 100 primitives","wasm engine build 1000 primitives","wasm engine build 5000 primitives","wasm engine build 10000 primitives","wasm engine build 30000 primitives","wasm engine build 50000 primitives"],
          datasets: [
            {
              data: [1440.23,122.99,20.41,9.16,2.8,1.59,9322.69,636.94,113.22,54.11,16.35,8.6],
              backgroundColor: ["hsl(18.540000000000003, 85%, 55%)","hsl(1.5839999999999919, 85%, 55%)","hsl(0.2639999999999986, 85%, 55%)","hsl(0.11999999999999318, 85%, 55%)","hsl(0.036000000000001364, 85%, 55%)","hsl(0.023999999999995227, 85%, 55%)","hsl(120, 85%, 55%)","hsl(8.195999999999998, 85%, 55%)","hsl(1.4519999999999924, 85%, 55%)","hsl(0.695999999999998, 85%, 55%)","hsl(0.21600000000000819, 85%, 55%)","hsl(0.10800000000000409, 85%, 55%)"],
              borderColor: ["hsl(18.540000000000003, 85%, 55%)","hsl(1.5839999999999919, 85%, 55%)","hsl(0.2639999999999986, 85%, 55%)","hsl(0.11999999999999318, 85%, 55%)","hsl(0.036000000000001364, 85%, 55%)","hsl(0.023999999999995227, 85%, 55%)","hsl(120, 85%, 55%)","hsl(8.195999999999998, 85%, 55%)","hsl(1.4519999999999924, 85%, 55%)","hsl(0.695999999999998, 85%, 55%)","hsl(0.21600000000000819, 85%, 55%)","hsl(0.10800000000000409, 85%, 55%)"],
              borderWidth: 2,
            },
          ],
        },
        options: {
          maintainAspectRatio: false,
          plugins: {
            title: {
              display: true,
              text: 'build',
              font: { size: 20 },
              padding: 20,
            },
            legend: {
              display: false,
            },
            tooltip: {
              callbacks: {
                label: (context) => {
                  return format(context.parsed.y) + ' ops/s'
                },
              },
              displayColors: false,
              backgroundColor: '#222222',
              padding: 10,
              cornerRadius: 5,
              intersect: false,
            },
          },
          scales: {
            x: {
              grid: {
                color: '#888888',
              },
            },
            y: {
              title: {
                display: true,
                text: 'Operations per second',
                padding: 10,
              },
              grid: {
                color: '#888888',
              },
            },
          },
        },
      })
    </script>
  </body>
</html>